<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="/styles/style.css" />
		<link rel="icon" href="/assets/favicon.svg" type="image/svg+xml" />
		<title>Crystall-Project test area</title>
		<!-- <script src="/script_client/renderer.mjs" type="module"></script> -->
		<!-- <script src="/script_client/constants.mjs" type="module"></script> -->
		<!-- <script src="/script_client/content_loaders.mjs" type="module"></script> -->
	</head>
	<body>
		<div class="main-wrap">
			<main class="main">
				<header class="main-header">
					<h1 class="main-header-label">
						<span class="main-header-label__logo"></span>
						<span class="main-header-label__wording">Crystall-project test page</span>
					</h1>
					<nav class="main-header-nav">
						<li class="main-header-nav__item"><a class="_link">Блог</a></li>
						<li class="main-header-nav__item"><a class="_link">CellAuto</a></li>
						<li class="main-header-nav__item"><a class="_link">Orbit</a></li>
					</nav>
				</header>
				<div class="main-content">
					<aside class="main-sidebar">
						<div class="main-sidebar-item"></div>
					</aside>
					<div class="main-content__article" id="content-socket"></div>
				</div>
			</main>
		</div>
		<footer class="main-footer">
			test-mode NodeJs homepage
		</footer>
		<script type="module">
			'use strict'
			import { createPreview } from '/script_client/renderer.mjs'
			import { getArticleContent } from '/script_client/content_loaders.mjs'
			{
				document.addEventListener('DOMContentLoaded', async () => {
					const articleId = window.location.pathname.split('/').pop()
					const content = await getArticleContent(articleId)
					const previewSocket = document.getElementById('content-socket')
					const temp = createPreview(JSON.parse(content))
					previewSocket.innerHTML = temp
				})
			}
		</script>
	</body>
</html>